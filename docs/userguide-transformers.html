<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.0/sandstone/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/solarized-light.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/ag-grid/24.0.0/styles/ag-grid.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/ag-grid/24.0.0/styles/ag-theme-balham.min.css" rel="stylesheet" type="text/css">
        <link href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" rel="stylesheet" type="text/css">

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
        <!-- The loading of KaTeX is deferred to speed up page rendering -->
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
    </head>
    <body>
        <p id="loading">Loading ...</p>
        <div id="app"></div>
    </body>
    <script src="https://cdn.statically.io/gh/scicloj/gorilla-notes@master/dist/0.5.10/main.js"></script>
    <script>
     shadow.loader.load("main");
     gorilla_notes.main.main_BANG_(false, "{:options {:reverse-notes? false, :header? false, :notes-in-cards? false, :initially-collapse? false, :auto-scroll? false, :port 1903, :custom-header [:div {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} \"(notespace)\" [:p \"Mon May 24 11:05:42 CEST 2021\"] nil [:hr]], :custom-footer [:div [:hr] [:hr]]}, :ids [\"432\" \"433\" \"350\" \"269\" \"434\" \"270\" \"394\" \"435\" \"69\" \"29\" \"100\" \"396\" \"215\" \"436\" \"437\" \"438\" \"439\" \"440\" \"441\" \"442\" \"443\" \"444\" \"445\" \"446\" \"447\" \"448\" \"449\" \"450\" \"451\" \"452\" \"453\" \"454\" \"455\" \"456\" \"457\"], :id->content {\"445\" [:div [:p] nil nil [:p/markdown \"Next we plot the cummulative variance over the component index:\"]], \"108\" [:div [:p] [:div [:p/code {:code \"^kind/vega\\n{:$schema \\\"https://vega.github.io/schema/vega-lite/v5.json\\\"\\n \\n :data {:values (create-plot-data reduced-ctx-with-scale 3)}\\n :mark \\\"line\\\",\\n :encoding\\n {:x {:field :principal-component, :type \\\"nominal\\\"},\\n  :y {:field :cumumaltive-variance, :type \\\"quantitative\\\"}}}\", :bg-class \"bg-light\"}]] nil [:p/vega {:$schema \"https://vega.github.io/schema/vega-lite/v5.json\", :data {:values ({:cumumaltive-variance 0.2034655665055615, :principal-component 0} {:cumumaltive-variance 0.39243773015959377, :principal-component 1} {:cumumaltive-variance 0.47793761535378354, :principal-component 2} {:cumumaltive-variance 0.5347295188926177, :principal-component 3} {:cumumaltive-variance 0.5848003183439708, :principal-component 4} {:cumumaltive-variance 0.6254502706438431, :principal-component 5} {:cumumaltive-variance 0.6582401887378967, :principal-component 6} {:cumumaltive-variance 0.6887048471002458, :principal-component 7} {:cumumaltive-variance 0.7143644569053819, :principal-component 8} {:cumumaltive-variance 0.7392754799545415, :principal-component 9} {:cumumaltive-variance 0.7600282821561292, :principal-component 10} {:cumumaltive-variance 0.7790481818169344, :principal-component 11} {:cumumaltive-variance 0.7965179775011406, :principal-component 12} {:cumumaltive-variance 0.8119028196116449, :principal-component 13} {:cumumaltive-variance 0.8261807898020074, :principal-component 14} {:cumumaltive-variance 0.8397903759780779, :principal-component 15} {:cumumaltive-variance 0.8521364585268703, :principal-component 16} {:cumumaltive-variance 0.8638229187909116, :principal-component 17} {:cumumaltive-variance 0.8741306635801275, :principal-component 18} {:cumumaltive-variance 0.8839206823252503, :principal-component 19} {:cumumaltive-variance 0.8933614751971771, :principal-component 20} {:cumumaltive-variance 0.9022370817691034, :principal-component 21} {:cumumaltive-variance 0.9106358227259329, :principal-component 22} {:cumumaltive-variance 0.9183442035161207, :principal-component 23} {:cumumaltive-variance 0.9255634993082468, :principal-component 24} {:cumumaltive-variance 0.9325272084976147, :principal-component 25} {:cumumaltive-variance 0.9386809189592522, :principal-component 26} {:cumumaltive-variance 0.9439969229289472, :principal-component 27} {:cumumaltive-variance 0.9492440703857169, :principal-component 28} {:cumumaltive-variance 0.9541980429075215, :principal-component 29} {:cumumaltive-variance 0.958960075267624, :principal-component 30} {:cumumaltive-variance 0.9633217465392208, :principal-component 31} {:cumumaltive-variance 0.9670462544289525, :principal-component 32} {:cumumaltive-variance 0.9704133070773767, :principal-component 33} {:cumumaltive-variance 0.9735184122332464, :principal-component 34} {:cumumaltive-variance 0.9765500679747293, :principal-component 35} {:cumumaltive-variance 0.9794270414012115, :principal-component 36} {:cumumaltive-variance 0.9818727823061121, :principal-component 37} {:cumumaltive-variance 0.9840677325796927, :principal-component 38} {:cumumaltive-variance 0.9861688827196029, :principal-component 39} {:cumumaltive-variance 0.9880144682783492, :principal-component 40} {:cumumaltive-variance 0.9895968265434099, :principal-component 41} {:cumumaltive-variance 0.9909643533484526, :principal-component 42} {:cumumaltive-variance 0.9922216871064323, :principal-component 43} {:cumumaltive-variance 0.9932490069955421, :principal-component 44} {:cumumaltive-variance 0.9941981772822523, :principal-component 45} {:cumumaltive-variance 0.9951363595126184, :principal-component 46} {:cumumaltive-variance 0.9958440284397301, :principal-component 47} {:cumumaltive-variance 0.9964376788025104, :principal-component 48} {:cumumaltive-variance 0.9969589846114634, :principal-component 49} {:cumumaltive-variance 0.9974462542133418, :principal-component 50} {:cumumaltive-variance 0.9979204664106279, :principal-component 51} {:cumumaltive-variance 0.9983042004644088, :principal-component 52} {:cumumaltive-variance 0.9986709060784325, :principal-component 53} {:cumumaltive-variance 0.998992784985094, :principal-component 54} {:cumumaltive-variance 0.9992630197544988, :principal-component 55} {:cumumaltive-variance 0.9995094740440549, :principal-component 56} {:cumumaltive-variance 0.9997027296515878, :principal-component 57} {:cumumaltive-variance 0.9998898908537466, :principal-component 58} {:cumumaltive-variance 1.0000000000000004, :principal-component 59})}, :mark \"line\", :encoding {:x {:field :principal-component, :type \"nominal\"}, :y {:field :cumumaltive-variance, :type \"quantitative\"}}}]], \"432\" [:div [:p] [:div [:p/code {:code \"(comment\\n\\n  (note/init-with-browser)\\n  (notespace.api/update-config\\n   #(assoc % :source-base-path \\\"userguide\\\"))\\n  (note/eval-this-notespace)\\n  (note/render-static-html \\\"docs/userguide-transformers.html\\\") /\\n  )\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"nil\\n\"}]], \"438\" [:div [:p] [:div [:p/code {:code \"(def sonar\\n  (toydata/sonar-ds))\", :bg-class \"bg-light\"}]] nil nil], \"450\" [:div [:p] nil nil [:p/markdown \"So our pipeline becomes:\"]], \"69\" [:div [:p] nil nil [:p/markdown \"## std-scale\\nMetamorph transfomer, which centers and scales the dataset per column.\\n\\n  `col-seq` is a sequence of column names to work on\\n\\n  `options` are the options for the scaler and can take:\\n\\n  `mean?` If true (default), the data gets shifted by the column means, so 0 centered\\n\\n  `stddev?` If true (default), the data gets scaled by the standard deviation of the column\\n  \"]], \"452\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\n(:metamorph/data fitted-ctx)\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [208 3]:\\n\\n| :material |   pca-cov-0 |   pca-cov-1 |\\n|-----------|------------:|------------:|\\n|         R |  0.29372891 | -0.26954265 |\\n|         M |  0.02393790 |  0.31762410 |\\n|         R |  0.55869595 |  0.82196637 |\\n|         M | -0.36445290 | -0.23663214 |\\n|         M | -1.52470970 |  0.07391137 |\\n|         M |  0.04576078 | -0.99596955 |\\n|         M | -0.66574978 |  1.40103202 |\\n|         R |  0.87780099 |  0.11696336 |\\n|         R |  0.26928702 |  0.92104629 |\\n|         R | -1.11710742 | -0.54115016 |\\n|         R |  0.97635445 |  0.24800552 |\\n|         M |  1.02020855 | -0.11890245 |\\n|         M | -0.13058542 | -0.89968899 |\\n|         R | -0.48709984 | -0.21210984 |\\n|         M |  0.89741540 | -0.48939573 |\\n|         M |  0.76479462 |  0.51675654 |\\n|         R | -1.61313203 |  1.06493655 |\\n|         M |  0.28088718 |  0.28213827 |\\n|         R |  0.18357837 | -1.01167568 |\\n|         R | -0.26603630 | -0.62715731 |\\n|         R | -0.70122901 |  0.34599364 |\\n|         M | -0.79216364 |  0.67091937 |\\n|         M |  0.14407391 |  0.09454167 |\\n|         R | -0.68824281 | -0.33137589 |\\n|         M |  0.37573227 | -0.10318035 |\\n\"]]], \"439\" [:div [:p] [:div [:p/code {:code \"(def col-names (map #(keyword (str \\\"x\\\" %))\\n                   (range 60)))\", :bg-class \"bg-light\"}]] nil nil], \"454\" [:div [:p] [:div [:p/code {:code \"(def scatter-plot-data\\n  (-> fitted-ctx\\n      :metamorph/data\\n      (ds/select-columns [:material \\\"pca-cov-0\\\" \\\"pca-cov-1\\\"])\\n      (ds/rows :as-maps)\\n      ))\", :bg-class \"bg-light\"}]] nil nil], \"448\" [:div [:p] nil nil [:p/markdown \"Looking at this plot, we could now make a decision, how many dimensions\\n to keep.\"]], \"396\" [:div [:p] nil nil [:p/markdown \"#### PCA example\"]], \"270\" [:div [:p] nil nil [:p/markdown \"## bow->sparse-array\\nConverts a bag-of-word column `bow-col` to sparse indices column `indices-col`,\\n   as needed by the Maxent model.\\n   `vocab size` is the size of vocabluary used, sorted by token frequency\\n\\n  metamorph                            |.\\n  -------------------------------------|---------\\n  Behaviour in mode :fit               |normal\\n  Behaviour in mode :transform         |normal\\n  Reads keys from ctx                  |none\\n  Writes keys to ctx                   |:scicloj.ml.smile.metamorph/count-vectorize-vocabulary\\n\\n  \"]], \"394\" [:div [:p] nil nil [:p/markdown \"## bow->tfidf\\nCalculates the tfidf score from bag-of-words (as token frequency maps)\\n   in column `bow-column` and stores them in a new column `tfid-column` as maps of token->tfidf-score.\\n\\n\\n  metamorph                            |.\\n  -------------------------------------|---------\\n  Behaviour in mode :fit               |normal\\n  Behaviour in mode :transform         |normal\\n  Reads keys from ctx                  |none\\n  Writes keys to ctx                   |none\\n  \"]], \"441\" [:div [:p] [:div [:p/code {:code \"(def fitted-ctx\\n  (ml/pipe-it\\n   sonar\\n   [\\n    (mm/reduce-dimensions :pca-cov 60\\n                          col-names\\n                          {}\\n                          )\\n    ]))\", :bg-class \"bg-light\"}]] nil nil], \"443\" [:div [:p] nil nil [:p/markdown \"It accesses the underlying Smile Java object to get the data on\\nthe cumulative variance for each PCA component.\"]], \"442\" [:div [:p] nil nil [:p/markdown \"The next function transforms the result from the fitted pipeline\\ninto vega lite compatible format for plotting\"]], \"437\" [:div [:p] nil nil [:p/markdown \"We use the sonar dataset which has 60 columns of quantitative data,\\nwhich are certain measurements from a sonar device.\\nThe original purpose of the dataset is to learn to detect rock vs metal\\n from the measurements\"]], \"456\" [:div [:p] nil nil [:p/markdown \"The plot shows that the reduction to 2 dimensions does not create\\nlinear separable areas of `M` and `R`. So a linear model will not be\\n able to predict well the material from the 2 PCA components.\"]], \"449\" [:div [:p] nil nil [:p/markdown \"We could for example decide, that keeping 60 % of the variance\\nis enough, which would result in keeping the first 2 dimensions.\"]], \"350\" [:div [:p] [:div [:p/code {:code \"(defn docu-fn [v]\\n  (let [m (meta v)]\\n    (kind/override\\n     [(str  \\\"## \\\" (:name m))\\n      (:doc m\\n            )]\\n     kind/md-nocode\\n     )))\", :bg-class \"bg-light\"}]] nil nil], \"100\" [:div [:p] nil nil [:p/markdown \"## reduce-dimensions\\nMetamorph transformer, which reduces the dimensions of a given dataset.\\n\\n  `algorithm` can be any of:\\n    * :pca-cov\\n    * :pca-cor\\n    * :pca-prob\\n    * :kpca\\n    * :gha\\n    * :random\\n\\n  `target-dims` is number of dimensions to reduce to.\\n\\n  `cnames` is a sequence of column names on which the reduction get performed\\n\\n  `opts` are the options of the algorithm\\n  \"]], \"455\" [:div [:p] [:div [:p/code {:code \"^kind/vega\\n{:$schema \\\"https://vega.github.io/schema/vega-lite/v5.json\\\"\\n :data {:values scatter-plot-data}\\n :mark \\\"point\\\"\\n :encoding\\n {:x {:field \\\"pca-cov-0\\\"  :type \\\"quantitative\\\"}\\n  :y {:field \\\"pca-cov-1\\\"  :type \\\"quantitative\\\"}\\n  :color {:field :material}}}\", :bg-class \"bg-light\"}]] nil [:p/vega {:$schema \"https://vega.github.io/schema/vega-lite/v5.json\", :data {:values [{:material \"R\", \"pca-cov-0\" 0.29372891199876666, \"pca-cov-1\" -0.2695426506606127} {:material \"M\", \"pca-cov-0\" 0.023937902173329473, \"pca-cov-1\" 0.31762410498444194} {:material \"R\", \"pca-cov-0\" 0.5586959502370221, \"pca-cov-1\" 0.8219663744039716} {:material \"M\", \"pca-cov-0\" -0.3644528974563903, \"pca-cov-1\" -0.23663213961672597} {:material \"M\", \"pca-cov-0\" -1.524709701642341, \"pca-cov-1\" 0.07391136803675352} {:material \"M\", \"pca-cov-0\" 0.04576078491712582, \"pca-cov-1\" -0.9959695539272075} {:material \"M\", \"pca-cov-0\" -0.6657497759130637, \"pca-cov-1\" 1.4010320248041883} {:material \"R\", \"pca-cov-0\" 0.8778009860185696, \"pca-cov-1\" 0.11696335784981554} {:material \"R\", \"pca-cov-0\" 0.26928702489998285, \"pca-cov-1\" 0.9210462922317595} {:material \"R\", \"pca-cov-0\" -1.1171074187843704, \"pca-cov-1\" -0.5411501625400246} {:material \"R\", \"pca-cov-0\" 0.9763544452136184, \"pca-cov-1\" 0.24800551621143258} {:material \"M\", \"pca-cov-0\" 1.020208549233642, \"pca-cov-1\" -0.11890245052979626} {:material \"M\", \"pca-cov-0\" -0.13058541732793075, \"pca-cov-1\" -0.8996889893245701} {:material \"R\", \"pca-cov-0\" -0.4870998390048321, \"pca-cov-1\" -0.21210984368143493} {:material \"M\", \"pca-cov-0\" 0.8974153964965013, \"pca-cov-1\" -0.48939573090842864} {:material \"M\", \"pca-cov-0\" 0.7647946249010278, \"pca-cov-1\" 0.5167565445950892} {:material \"R\", \"pca-cov-0\" -1.6131320348613285, \"pca-cov-1\" 1.064936545085883} {:material \"M\", \"pca-cov-0\" 0.28088718479110836, \"pca-cov-1\" 0.2821382748118007} {:material \"R\", \"pca-cov-0\" 0.18357836760779966, \"pca-cov-1\" -1.011675678607664} {:material \"R\", \"pca-cov-0\" -0.26603629913590826, \"pca-cov-1\" -0.6271573089654712} {:material \"R\", \"pca-cov-0\" -0.7012290104235233, \"pca-cov-1\" 0.34599364357753604} {:material \"M\", \"pca-cov-0\" -0.7921636386964359, \"pca-cov-1\" 0.6709193713565248} {:material \"M\", \"pca-cov-0\" 0.1440739144135213, \"pca-cov-1\" 0.09454167048032705} {:material \"R\", \"pca-cov-0\" -0.6882428055585184, \"pca-cov-1\" -0.3313758944140089} {:material \"M\", \"pca-cov-0\" 0.375732267961806, \"pca-cov-1\" -0.10318035292234379} {:material \"R\", \"pca-cov-0\" -0.4926940242114485, \"pca-cov-1\" 0.4809414374706134} {:material \"R\", \"pca-cov-0\" -0.8491589495103868, \"pca-cov-1\" 0.3894918072133822} {:material \"M\", \"pca-cov-0\" -0.8887531897006238, \"pca-cov-1\" 0.34078832906346584} {:material \"R\", \"pca-cov-0\" 0.2967828472790705, \"pca-cov-1\" 0.14011815799868027} {:material \"R\", \"pca-cov-0\" -0.5760925244471817, \"pca-cov-1\" 0.3193929288752002} {:material \"R\", \"pca-cov-0\" -0.45270845142641986, \"pca-cov-1\" -0.46280013823116267} {:material \"M\", \"pca-cov-0\" -0.25198153306458704, \"pca-cov-1\" -0.6115323251577494} {:material \"R\", \"pca-cov-0\" -0.3051251563397405, \"pca-cov-1\" -0.6842525864180042} {:material \"M\", \"pca-cov-0\" -1.1157052015237723, \"pca-cov-1\" 0.1069696086288526} {:material \"M\", \"pca-cov-0\" 0.5397258580115911, \"pca-cov-1\" -0.8550368568651603} {:material \"R\", \"pca-cov-0\" -0.6005074355254325, \"pca-cov-1\" -0.19943256713846746} {:material \"R\", \"pca-cov-0\" 0.12727589589218669, \"pca-cov-1\" 0.28660897518730827} {:material \"R\", \"pca-cov-0\" -0.6116107669596746, \"pca-cov-1\" 0.17626803911562106} {:material \"R\", \"pca-cov-0\" 0.13969334395492583, \"pca-cov-1\" 0.2387992340849475} {:material \"M\", \"pca-cov-0\" -0.8119442722515346, \"pca-cov-1\" 1.3610127158339391} {:material \"R\", \"pca-cov-0\" 0.08972320130017236, \"pca-cov-1\" -0.4247201236975325} {:material \"M\", \"pca-cov-0\" 0.8394685420707475, \"pca-cov-1\" -0.34296775295258247} {:material \"M\", \"pca-cov-0\" -0.20034003357070257, \"pca-cov-1\" 0.2990388202263876} {:material \"M\", \"pca-cov-0\" 0.3661770598635929, \"pca-cov-1\" -0.9121422567519688} {:material \"M\", \"pca-cov-0\" -0.2668175070608287, \"pca-cov-1\" -0.7411544278319069} {:material \"R\", \"pca-cov-0\" 0.9566857080582527, \"pca-cov-1\" 0.2689412980582911} {:material \"M\", \"pca-cov-0\" 0.33202860301834664, \"pca-cov-1\" -0.4024265794186998} {:material \"M\", \"pca-cov-0\" 1.017757163121475, \"pca-cov-1\" -0.4873583350352149} {:material \"M\", \"pca-cov-0\" 0.16023915287137758, \"pca-cov-1\" -0.35136683026422905} {:material \"M\", \"pca-cov-0\" 0.9119606410861045, \"pca-cov-1\" 1.3755342076072945} {:material \"M\", \"pca-cov-0\" -0.3595489885690596, \"pca-cov-1\" -0.6643078317533617} {:material \"R\", \"pca-cov-0\" -0.6695589953543184, \"pca-cov-1\" -0.1954356678970951} {:material \"M\", \"pca-cov-0\" -0.0736181469499097, \"pca-cov-1\" 0.41135462596660566} {:material \"M\", \"pca-cov-0\" -0.2841030579171579, \"pca-cov-1\" -0.45966114191331037} {:material \"R\", \"pca-cov-0\" 0.1089160030676884, \"pca-cov-1\" -0.26262606993198173} {:material \"M\", \"pca-cov-0\" 0.9716829580714885, \"pca-cov-1\" -0.05486356222621436} {:material \"R\", \"pca-cov-0\" 0.419052302148283, \"pca-cov-1\" 0.17147989141914777} {:material \"M\", \"pca-cov-0\" 0.4387228689840695, \"pca-cov-1\" 0.5844830182753706} {:material \"R\", \"pca-cov-0\" -0.12451345360574606, \"pca-cov-1\" -0.5972068345965449} {:material \"R\", \"pca-cov-0\" 1.0652410611281313, \"pca-cov-1\" 0.35874375312331047} {:material \"M\", \"pca-cov-0\" 0.3308371727635356, \"pca-cov-1\" -0.9548453383227284} {:material \"R\", \"pca-cov-0\" 1.1275021841329433, \"pca-cov-1\" -0.23398180358641646} {:material \"R\", \"pca-cov-0\" 0.1265862309811044, \"pca-cov-1\" 0.49437376348442097} {:material \"M\", \"pca-cov-0\" 0.7863180331069859, \"pca-cov-1\" -0.37264745405013405} {:material \"M\", \"pca-cov-0\" -0.2917913072804661, \"pca-cov-1\" -0.3360088887703038} {:material \"R\", \"pca-cov-0\" -1.533880273576329, \"pca-cov-1\" 0.40517566820421214} {:material \"R\", \"pca-cov-0\" 0.39137173826520394, \"pca-cov-1\" 0.6235221698229829} {:material \"R\", \"pca-cov-0\" 0.9401072279346414, \"pca-cov-1\" -0.32457915487509365} {:material \"M\", \"pca-cov-0\" 0.8457982521906666, \"pca-cov-1\" 0.6071518077656564} {:material \"M\", \"pca-cov-0\" 0.39413140629285887, \"pca-cov-1\" 0.03889118737056449} {:material \"M\", \"pca-cov-0\" 0.8727775826866455, \"pca-cov-1\" 0.36661593582235} {:material \"M\", \"pca-cov-0\" 0.8154007367002547, \"pca-cov-1\" 1.2083269722552155} {:material \"R\", \"pca-cov-0\" 0.15748388352906384, \"pca-cov-1\" 0.3956682028905505} {:material \"M\", \"pca-cov-0\" -0.8401781028497368, \"pca-cov-1\" -0.04792029304104228} {:material \"M\", \"pca-cov-0\" 0.8056321439007967, \"pca-cov-1\" 0.5115758632650735} {:material \"R\", \"pca-cov-0\" -1.0943305545602549, \"pca-cov-1\" 0.7027342387557258} {:material \"M\", \"pca-cov-0\" -0.12529198427713453, \"pca-cov-1\" -0.4427159663541585} {:material \"M\", \"pca-cov-0\" -1.3844347433711655, \"pca-cov-1\" 0.2730793050079699} {:material \"M\", \"pca-cov-0\" -0.41597514589891404, \"pca-cov-1\" -0.7352029346750024} {:material \"R\", \"pca-cov-0\" 0.06261631664201256, \"pca-cov-1\" 0.40179454957456284} {:material \"M\", \"pca-cov-0\" 0.7266090728038888, \"pca-cov-1\" 0.4180887500366576} {:material \"M\", \"pca-cov-0\" 1.08315760557467, \"pca-cov-1\" 0.16941616006945842} {:material \"M\", \"pca-cov-0\" 1.1394374339170283, \"pca-cov-1\" 0.6059085259471102} {:material \"R\", \"pca-cov-0\" -0.7681563161220025, \"pca-cov-1\" -0.1227023728669821} {:material \"R\", \"pca-cov-0\" -0.29609341504368625, \"pca-cov-1\" -0.6323352987444024} {:material \"R\", \"pca-cov-0\" -0.3904363212452391, \"pca-cov-1\" -0.6969701639699071} {:material \"M\", \"pca-cov-0\" -0.2991868716934264, \"pca-cov-1\" -0.6503808887299687} {:material \"R\", \"pca-cov-0\" -1.2724980890983915, \"pca-cov-1\" 0.6268386581642492} {:material \"M\", \"pca-cov-0\" 0.40429731749818804, \"pca-cov-1\" -0.26845706667683017} {:material \"M\", \"pca-cov-0\" 0.6681161328359413, \"pca-cov-1\" -0.15808225721247732} {:material \"M\", \"pca-cov-0\" 0.5370796872561929, \"pca-cov-1\" -0.32816553288398315} {:material \"R\", \"pca-cov-0\" 0.06475554508902975, \"pca-cov-1\" 0.222967780927322} {:material \"M\", \"pca-cov-0\" 0.32905463938965146, \"pca-cov-1\" -0.0063358516089622174} {:material \"M\", \"pca-cov-0\" 1.1661686361401205, \"pca-cov-1\" -0.10277944546225226} {:material \"R\", \"pca-cov-0\" -0.8239605990942174, \"pca-cov-1\" -0.2226334383740441} {:material \"M\", \"pca-cov-0\" 0.8735117150395482, \"pca-cov-1\" -0.4720191007021492} {:material \"M\", \"pca-cov-0\" 0.4291429862713045, \"pca-cov-1\" -0.8812319958014387} {:material \"R\", \"pca-cov-0\" -0.1568372147437272, \"pca-cov-1\" 0.04119526664273079} {:material \"M\", \"pca-cov-0\" -0.492060059460403, \"pca-cov-1\" 1.2508701469877732} {:material \"R\", \"pca-cov-0\" -0.4608848505387918, \"pca-cov-1\" -0.5157155737972035} {:material \"M\", \"pca-cov-0\" 0.013290778903050804, \"pca-cov-1\" -0.6103426976789785} {:material \"M\", \"pca-cov-0\" 0.13186023960662369, \"pca-cov-1\" -0.3174389132862275} {:material \"R\", \"pca-cov-0\" -0.4034943410238024, \"pca-cov-1\" -0.36143669829704833} {:material \"M\", \"pca-cov-0\" -1.3037814884870433, \"pca-cov-1\" -0.27461417928786763} {:material \"R\", \"pca-cov-0\" 0.9706673571016695, \"pca-cov-1\" 1.0180392438088373} {:material \"M\", \"pca-cov-0\" -0.5316628144745317, \"pca-cov-1\" -0.41260104713600326} {:material \"R\", \"pca-cov-0\" 0.38337484936135663, \"pca-cov-1\" -0.07355381799773791} {:material \"M\", \"pca-cov-0\" -0.4732115476844847, \"pca-cov-1\" -0.010671545090953583} {:material \"M\", \"pca-cov-0\" 1.4008863663758562, \"pca-cov-1\" 0.42477773512826933} {:material \"R\", \"pca-cov-0\" -0.21002333207063617, \"pca-cov-1\" -0.24949758807312722} {:material \"R\", \"pca-cov-0\" 0.672958335281443, \"pca-cov-1\" 0.5627402993384574} {:material \"R\", \"pca-cov-0\" -0.05161197328526301, \"pca-cov-1\" 0.19279682216163063} {:material \"M\", \"pca-cov-0\" 0.31520459875824064, \"pca-cov-1\" -0.9297159607857126} {:material \"R\", \"pca-cov-0\" 1.155820463456367, \"pca-cov-1\" -0.27656584779987653} {:material \"R\", \"pca-cov-0\" -1.662707047260395, \"pca-cov-1\" 0.8610669395093695} {:material \"R\", \"pca-cov-0\" 0.19979173218390478, \"pca-cov-1\" -0.7275569880195834} {:material \"R\", \"pca-cov-0\" -0.05056070031045465, \"pca-cov-1\" -0.6875920287783674} {:material \"M\", \"pca-cov-0\" -0.2279071055519237, \"pca-cov-1\" -0.7497101865021316} {:material \"M\", \"pca-cov-0\" -0.37420424084649817, \"pca-cov-1\" -0.12177948424810997} {:material \"R\", \"pca-cov-0\" 1.2771258552922176, \"pca-cov-1\" -0.24039509799060071} {:material \"M\", \"pca-cov-0\" -0.8438511492831635, \"pca-cov-1\" -0.06389584271681498} {:material \"M\", \"pca-cov-0\" -0.24285545658974822, \"pca-cov-1\" -0.05600851217140751} {:material \"R\", \"pca-cov-0\" -0.7065431876101358, \"pca-cov-1\" -0.6860302580890636} {:material \"R\", \"pca-cov-0\" -0.12014371691775022, \"pca-cov-1\" -0.5343646708813201} {:material \"R\", \"pca-cov-0\" 1.3487518357168833, \"pca-cov-1\" 0.6444349514030069} {:material \"M\", \"pca-cov-0\" -0.6042137565370842, \"pca-cov-1\" -0.14958958521906573} {:material \"R\", \"pca-cov-0\" 0.9411288648333531, \"pca-cov-1\" 0.22913851556705567} {:material \"M\", \"pca-cov-0\" 0.5039406642475133, \"pca-cov-1\" -0.9420443911311254} {:material \"M\", \"pca-cov-0\" -0.8878273198198166, \"pca-cov-1\" 1.1552221378030383} {:material \"R\", \"pca-cov-0\" -1.5926431767553777, \"pca-cov-1\" 1.196254724405631} {:material \"M\", \"pca-cov-0\" -1.331711318509011, \"pca-cov-1\" -0.37036239393074016} {:material \"R\", \"pca-cov-0\" -0.37462066579967945, \"pca-cov-1\" 0.022334408574108233} {:material \"R\", \"pca-cov-0\" 0.9146838733774907, \"pca-cov-1\" 0.13531135346141485} {:material \"M\", \"pca-cov-0\" 0.8338213176765115, \"pca-cov-1\" -0.4505905142902345} {:material \"M\", \"pca-cov-0\" -0.697739832378317, \"pca-cov-1\" 0.08719485865090607} {:material \"R\", \"pca-cov-0\" -0.8818604350820554, \"pca-cov-1\" 0.38984988619302485} {:material \"M\", \"pca-cov-0\" 0.49464049220437395, \"pca-cov-1\" -0.5976206218869591} {:material \"R\", \"pca-cov-0\" 0.3386153125517574, \"pca-cov-1\" -0.0931539750564166} {:material \"R\", \"pca-cov-0\" 1.042595313675037, \"pca-cov-1\" -0.47114465847900294} {:material \"M\", \"pca-cov-0\" 0.98249006643535, \"pca-cov-1\" 1.1816674255966124} {:material \"R\", \"pca-cov-0\" 0.23467346641774695, \"pca-cov-1\" 0.3652086317375566} {:material \"M\", \"pca-cov-0\" -1.5282884373543508, \"pca-cov-1\" -0.02195850696812679} {:material \"M\", \"pca-cov-0\" 0.6869534668770336, \"pca-cov-1\" -0.6867474240436393} {:material \"R\", \"pca-cov-0\" -0.11410315487870645, \"pca-cov-1\" -0.7414347924600933} {:material \"R\", \"pca-cov-0\" -0.1328841349720351, \"pca-cov-1\" -0.19703127372105567} {:material \"M\", \"pca-cov-0\" 0.81660148255509, \"pca-cov-1\" 0.965709606465319} {:material \"R\", \"pca-cov-0\" -0.7161679219460846, \"pca-cov-1\" -0.5594705023312521} {:material \"M\", \"pca-cov-0\" -0.2755946526481288, \"pca-cov-1\" -0.17427651040974856} {:material \"R\", \"pca-cov-0\" 1.2293676455454807, \"pca-cov-1\" -0.2766687183404906} {:material \"M\", \"pca-cov-0\" 1.3873156681429224, \"pca-cov-1\" 0.46017235571278925} {:material \"M\", \"pca-cov-0\" 0.2921580306630482, \"pca-cov-1\" -0.2188814840296961} {:material \"R\", \"pca-cov-0\" -1.7048008052895143, \"pca-cov-1\" 0.6544890234969654} {:material \"M\", \"pca-cov-0\" -0.21914885793991068, \"pca-cov-1\" -1.1538074545824804} {:material \"M\", \"pca-cov-0\" 0.5551962404949851, \"pca-cov-1\" 0.5598144799584606} {:material \"M\", \"pca-cov-0\" -0.6659706271401359, \"pca-cov-1\" 0.030562536586775324} {:material \"M\", \"pca-cov-0\" 1.0123928040074481, \"pca-cov-1\" 1.2637341097332684} {:material \"R\", \"pca-cov-0\" -0.5503369884793633, \"pca-cov-1\" -0.5232706337415147} {:material \"R\", \"pca-cov-0\" -0.9562353845571867, \"pca-cov-1\" 0.4033628244019578} {:material \"M\", \"pca-cov-0\" 0.36976121357014774, \"pca-cov-1\" -0.1729127591442992} {:material \"M\", \"pca-cov-0\" 0.8944308974283286, \"pca-cov-1\" 0.4401681152853494} {:material \"M\", \"pca-cov-0\" -0.38601636531509026, \"pca-cov-1\" 0.4497296318624451} {:material \"M\", \"pca-cov-0\" -0.048099241760061834, \"pca-cov-1\" -0.2888442762995918} {:material \"R\", \"pca-cov-0\" -0.22626634304414178, \"pca-cov-1\" -0.6849714814130017} {:material \"M\", \"pca-cov-0\" 1.3142106792715, \"pca-cov-1\" 1.0702086409592704} {:material \"M\", \"pca-cov-0\" -0.0853763355030043, \"pca-cov-1\" -0.9647104499342714} {:material \"R\", \"pca-cov-0\" -0.1619613430448013, \"pca-cov-1\" -0.6672495684312849} {:material \"M\", \"pca-cov-0\" -0.1626510106262674, \"pca-cov-1\" -0.365385333479263} {:material \"M\", \"pca-cov-0\" -0.4757851759572047, \"pca-cov-1\" -0.5798699114357699} {:material \"M\", \"pca-cov-0\" -0.04178148676276669, \"pca-cov-1\" -1.0316439143097806} {:material \"M\", \"pca-cov-0\" -0.14751166390612147, \"pca-cov-1\" -0.17759736179854124} {:material \"R\", \"pca-cov-0\" 1.0122622536727601, \"pca-cov-1\" 0.4379544097242176} {:material \"R\", \"pca-cov-0\" 0.3258867890281873, \"pca-cov-1\" 0.8742085672217756} {:material \"M\", \"pca-cov-0\" 1.0899761713794214, \"pca-cov-1\" 0.5477565416219576} {:material \"R\", \"pca-cov-0\" -0.9934318287353621, \"pca-cov-1\" 0.12117011798199517} {:material \"R\", \"pca-cov-0\" -1.116022279686207, \"pca-cov-1\" -0.4657679526439464} {:material \"R\", \"pca-cov-0\" 0.1539902863532745, \"pca-cov-1\" -0.28688975623490304} {:material \"M\", \"pca-cov-0\" -0.5225276643596347, \"pca-cov-1\" 0.16721201404003821} {:material \"R\", \"pca-cov-0\" -1.6274598276478687, \"pca-cov-1\" 0.8352222453163363} {:material \"R\", \"pca-cov-0\" -0.8366418812939544, \"pca-cov-1\" -0.09673199167290436} {:material \"R\", \"pca-cov-0\" -0.23274053149696045, \"pca-cov-1\" 0.845217906407834} {:material \"R\", \"pca-cov-0\" -0.4232805439514561, \"pca-cov-1\" 0.053140137896959094} {:material \"M\", \"pca-cov-0\" 0.051114557997456844, \"pca-cov-1\" -0.9125262738604061} {:material \"R\", \"pca-cov-0\" 0.6062902555803897, \"pca-cov-1\" -0.04728685873568805} {:material \"R\", \"pca-cov-0\" -0.04405800587984263, \"pca-cov-1\" -0.7942945416010774} {:material \"M\", \"pca-cov-0\" 0.046613720249120194, \"pca-cov-1\" 0.13532529304426286} {:material \"M\", \"pca-cov-0\" -0.8433202717628021, \"pca-cov-1\" 1.4555862406503755} {:material \"M\", \"pca-cov-0\" 1.0611696069658763, \"pca-cov-1\" 0.1666602532341761} {:material \"R\", \"pca-cov-0\" -0.8520352418947739, \"pca-cov-1\" 0.6908625375933913} {:material \"R\", \"pca-cov-0\" -0.7121887141451237, \"pca-cov-1\" -0.810713555814754} {:material \"R\", \"pca-cov-0\" 0.6083168745551326, \"pca-cov-1\" 0.8988965103292283} {:material \"M\", \"pca-cov-0\" 0.5311632506691986, \"pca-cov-1\" -0.8324193252102678} {:material \"R\", \"pca-cov-0\" -0.31464370814570347, \"pca-cov-1\" -0.6573081544491415} {:material \"M\", \"pca-cov-0\" -0.6749962305047714, \"pca-cov-1\" 1.4817762706943431} {:material \"R\", \"pca-cov-0\" -1.0665190002292073, \"pca-cov-1\" 1.3644265203491626} {:material \"M\", \"pca-cov-0\" -0.4975726904497737, \"pca-cov-1\" -0.041514217452520374} {:material \"M\", \"pca-cov-0\" -1.5747242620406305, \"pca-cov-1\" -0.008997613971477969} {:material \"R\", \"pca-cov-0\" 0.3398471890073627, \"pca-cov-1\" -0.43756423373451053} {:material \"M\", \"pca-cov-0\" 0.7979867159049683, \"pca-cov-1\" 0.5181677097900093} {:material \"M\", \"pca-cov-0\" -0.29773311072121217, \"pca-cov-1\" -1.1518598824859645} {:material \"M\", \"pca-cov-0\" 0.09445630286822843, \"pca-cov-1\" -0.06585310801103667} {:material \"R\", \"pca-cov-0\" 0.5675439628915364, \"pca-cov-1\" 0.2487534401795547} {:material \"R\", \"pca-cov-0\" -1.0522334331530276, \"pca-cov-1\" -0.22769680190393976} {:material \"M\", \"pca-cov-0\" -0.42172458574750926, \"pca-cov-1\" 0.004610040123465053} {:material \"M\", \"pca-cov-0\" 1.4028931830319555, \"pca-cov-1\" 0.25979893142676536} {:material \"M\", \"pca-cov-0\" 0.8888179448483897, \"pca-cov-1\" 0.715023479538717} {:material \"R\", \"pca-cov-0\" -0.12364032261144284, \"pca-cov-1\" -0.6462862241930052} {:material \"R\", \"pca-cov-0\" 0.7185451707436292, \"pca-cov-1\" 0.39356258444189507} {:material \"M\", \"pca-cov-0\" 0.74806769801308, \"pca-cov-1\" -0.0488140806216526}]}, :mark \"point\", :encoding {:x {:field \"pca-cov-0\", :type \"quantitative\"}, :y {:field \"pca-cov-1\", :type \"quantitative\"}, :color {:field :material}}}]], \"440\" [:div [:p] nil nil [:p/markdown \"First we create and run  a pipeline which does the PCA.\\nIn this pipeline we do not fix the number of columns, as we want to\\nplot the result for all numbers of components (up to 60) \"]], \"433\" [:div [:p] [:div [:p/code {:code \"(require '[scicloj.ml.core :as ml]\\n         '[scicloj.ml.dataset :as ds]\\n         '[scicloj.ml.metamorph :as mm]\\n         )\", :bg-class \"bg-light\"}]] nil nil], \"434\" [:div [:p] nil nil [:p/markdown \"## bow->SparseArray\\nConverts a bag-of-word column `bow-col` to sparse indices column `indices-col`,\\n   as needed by the discrete naive bayes model. `vocab size` is the size of vocabluary used, sorted by token frequency\\n\\n  metamorph                            |.\\n  -------------------------------------|---------\\n  Behaviour in mode :fit               |normal\\n  Behaviour in mode :transform         |normal\\n  Reads keys from ctx                  |none\\n  Writes keys to ctx                   |:scicloj.ml.smile.metamorph/count-vectorize-vocabulary\\n\\n  \"]], \"444\" [:div [:p] [:div [:p/code {:code \"(defn create-plot-data [ctx ]\\n  (map\\n   #(hash-map :principal-component %1\\n              :cumulative-variance %2\\n              )\\n   (range)\\n   (-> ctx vals (nth 2) :fit-result :model bean :cumulativeVarianceProportion)))\", :bg-class \"bg-light\"}]] nil nil], \"269\" [:div [:p] nil nil [:p/markdown \"## count-vectorize\\nTransforms the text column `text-col` into a map of token frequencies in column\\n  `bow-col`\\n\\n  metamorph                            |.\\n  -------------------------------------|---------\\n  Behaviour in mode :fit               |normal\\n  Behaviour in mode :transform         |normal\\n  Reads keys from ctx                  |none\\n  Writes keys to ctx                   |none\\n  \"]], \"453\" [:div [:p] nil nil [:p/markdown \"As the data is now 2-dimensional, it is easy to plot:\"]], \"457\" [:div [:p] nil nil [:p/markdown \"It even seems, that the reduction to 2 dimensions removes\\ntoo much information for predicting of the material for any type of model.\"]], \"436\" [:div [:p] [:div [:p/code {:code \"(require '[scicloj.metamorph.ml.toydata :as toydata])\", :bg-class \"bg-light\"}]] nil nil], \"446\" [:div [:p] [:div [:p/code {:code \"^kind/vega\\n{:$schema \\\"https://vega.github.io/schema/vega-lite/v5.json\\\"\\n\\n\\n :data {:values\\n        (create-plot-data fitted-ctx)}\\n :mark \\\"line\\\" ,\\n :encoding\\n {:x {:field :principal-component, :type \\\"nominal\\\"},\\n  :y {:field :cumulative-variance, :type \\\"quantitative\\\"}\\n  }\\n }\", :bg-class \"bg-light\"}]] nil [:p/vega {:$schema \"https://vega.github.io/schema/vega-lite/v5.json\", :data {:values ({:cumulative-variance 0.31971149479250877, :principal-component 0} {:cumulative-variance 0.5235420901653136, :principal-component 1} {:cumulative-variance 0.6091002869590061, :principal-component 2} {:cumulative-variance 0.6736935074186393, :principal-component 3} {:cumulative-variance 0.725335066727316, :principal-component 4} {:cumulative-variance 0.7698490849737343, :principal-component 5} {:cumulative-variance 0.8119260431563502, :principal-component 6} {:cumulative-variance 0.8382525634042723, :principal-component 7} {:cumulative-variance 0.8605529291113191, :principal-component 8} {:cumulative-variance 0.879771101847903, :principal-component 9} {:cumulative-variance 0.8954241908902043, :principal-component 10} {:cumulative-variance 0.909016913098855, :principal-component 11} {:cumulative-variance 0.9207183350160374, :principal-component 12} {:cumulative-variance 0.930286346158442, :principal-component 13} {:cumulative-variance 0.9390195917296513, :principal-component 14} {:cumulative-variance 0.9466845369424247, :principal-component 15} {:cumulative-variance 0.9538789418133944, :principal-component 16} {:cumulative-variance 0.9595348908161602, :principal-component 17} {:cumulative-variance 0.9648080302096571, :principal-component 18} {:cumulative-variance 0.9696892254846439, :principal-component 19} {:cumulative-variance 0.9733482655665951, :principal-component 20} {:cumulative-variance 0.9762822358710562, :principal-component 21} {:cumulative-variance 0.9789613988813191, :principal-component 22} {:cumulative-variance 0.9813613318829019, :principal-component 23} {:cumulative-variance 0.9836817442332522, :principal-component 24} {:cumulative-variance 0.9858406939686831, :principal-component 25} {:cumulative-variance 0.9874044200054725, :principal-component 26} {:cumulative-variance 0.9888093899096736, :principal-component 27} {:cumulative-variance 0.9901071282284587, :principal-component 28} {:cumulative-variance 0.9912911831931172, :principal-component 29} {:cumulative-variance 0.9922583825228618, :principal-component 30} {:cumulative-variance 0.9931676767424223, :principal-component 31} {:cumulative-variance 0.9939288969729646, :principal-component 32} {:cumulative-variance 0.9946525952006342, :principal-component 33} {:cumulative-variance 0.9953526025581715, :principal-component 34} {:cumulative-variance 0.9960040990184553, :principal-component 35} {:cumulative-variance 0.9965519658657541, :principal-component 36} {:cumulative-variance 0.9970772003351906, :principal-component 37} {:cumulative-variance 0.9975647309726664, :principal-component 38} {:cumulative-variance 0.9979689474966706, :principal-component 39} {:cumulative-variance 0.998363453379374, :principal-component 40} {:cumulative-variance 0.9987264255349996, :principal-component 41} {:cumulative-variance 0.9990014209096296, :principal-component 42} {:cumulative-variance 0.9992348810260459, :principal-component 43} {:cumulative-variance 0.9994274362459917, :principal-component 44} {:cumulative-variance 0.9995760342330939, :principal-component 45} {:cumulative-variance 0.9996676745496229, :principal-component 46} {:cumulative-variance 0.9997463658608327, :principal-component 47} {:cumulative-variance 0.9998174151573338, :principal-component 48} {:cumulative-variance 0.9998634738637073, :principal-component 49} {:cumulative-variance 0.9998952776936947, :principal-component 50} {:cumulative-variance 0.9999201078961559, :principal-component 51} {:cumulative-variance 0.9999386690354297, :principal-component 52} {:cumulative-variance 0.9999537982223055, :principal-component 53} {:cumulative-variance 0.9999660718779566, :principal-component 54} {:cumulative-variance 0.9999767241290464, :principal-component 55} {:cumulative-variance 0.999984570529223, :principal-component 56} {:cumulative-variance 0.9999913227770387, :principal-component 57} {:cumulative-variance 0.999996677433683, :principal-component 58} {:cumulative-variance 0.9999999999999998, :principal-component 59})}, :mark \"line\", :encoding {:x {:field :principal-component, :type \"nominal\"}, :y {:field :cumulative-variance, :type \"quantitative\"}}}]], \"447\" [:div [:p] nil nil [:p/markdown \"From the plot we see, that transforming the data via PCA and reducing\\nit from 60 dimensions to about 25 would still preserve the full variance.\"]], \"215\" [:div [:p] nil nil [:p/markdown \"In this example we run PCA on some data.\"]], \"451\" [:div [:p] [:div [:p/code {:code \"(def fitted-ctx\\n  (ml/pipe-it\\n   sonar\\n   [\\n    (mm/reduce-dimensions :pca-cov 2\\n                          col-names\\n                          {}\\n                          )\\n    (mm/select-columns (concat [:material]\\n                               (map #(str \\\"pca-cov-\\\" %) (range 6))))\\n    (mm/shuffle)\\n    ]))\", :bg-class \"bg-light\"}]] nil nil], \"435\" [:div [:p] nil nil [:p/markdown \"## model\\nExecutes a machine learning model in train/predict (depending on :mode)\\n  from the `metamorph.ml` model registry.\\n\\n  The model is passed between both invocation via the shared context ctx in a\\n  key (a step indentifier) which is passed in key `:metamorph/id` and guarantied to be unique for each\\n  pipeline step.\\n\\n  The function writes and reads into this common context key.\\n\\n  Options:\\n  - `:model-type` - Keyword for the model to use\\n\\n  Further options get passed to `train` functions and are model specific.\\n\\n  See here for an overview for the models build into scicloj.ml:\\n\\n  https://scicloj.github.io/scicloj.ml/userguide-models.html\\n\\n  Other libraries might contribute other models,\\n  which are documented as part of the library.\\n\\n\\n  metamorph                            | .\\n  -------------------------------------|----------------------------------------------------------------------------\\n  Behaviour in mode :fit               | Calls `scicloj.metamorph.ml/train` using data in `:metamorph/data` and `options`and stores trained model in ctx under key in `:metamorph/id`\\n  Behaviour in mode :transform         | Reads trained model from ctx and calls `scicloj.metamorph.ml/predict` with the model in $id and data in `:metamorph/data`\\n  Reads keys from ctx                  | In mode `:transform` : Reads trained model to use for prediction from key in `:metamorph/id`.\\n  Writes keys to ctx                   | In mode `:fit` : Stores trained model in key $id and writes feature-ds and target-ds before prediction into ctx at `:scicloj.metamorph.ml/feature-ds` /`:scicloj.metamorph.ml/target-ds`\\n\\n\\n\\n\\n  See as well:\\n\\n  * `scicloj.metamorph.ml/train`\\n  * `scicloj.metamorph.ml/predict`\\n\\n  \"]], \"29\" [:div [:p] nil nil [:p/markdown \"## min-max-scale\\nMetamorph transfomer, which scales the column data into a given range.\\n\\n  `col-seq` is a sequence of columns names to work on\\n\\n  `options` Options for scaler, can take:\\n\\n  `min` Minimal value to scale to (default -0.5)\\n\\n  `max` Maximum value to scale to (default 0.5)\\n  \"]]}}");
     document.getElementById("loading").remove();
    </script>
</html>
